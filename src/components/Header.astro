---
import { SITE_TITLE, WATTPAD_URL } from '../consts';
import HeaderLink from './HeaderLink.astro';
---

<header
  class="bg-white/90 backdrop-blur-sm sticky top-0 z-50 border-b-2 border-primary/20 shadow-sm"
>
  <nav class="container flex items-center justify-between py-4">
    <h2 class="m-0 text-2xl font-black font-serif">
      <a
        href="/"
        class="text-foreground hover:text-primary transition-colors no-underline"
      >
        {SITE_TITLE}
      </a>
    </h2>

    <!--  -->
    <button
      class="block md:hidden p-2 text-foreground"
      id="menu-btn"
      aria-label="Menú"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <!-- -->
    <div
      class="hidden md:flex flex-col md:flex-row items-center gap-6 absolute md:static left-0 right-0 top-full bg-white/90 backdrop-blur-sm md:backdrop-blur-none md:bg-transparent border-b md:border-none shadow-md md:shadow-none p-4 md:p-0"
      id="menu"
    >
      <div class="flex flex-col md:flex-row gap-4 text-lg items-center">
        <HeaderLink href="/">Inicio</HeaderLink>
        <HeaderLink href="/blog">Blog</HeaderLink>
        <HeaderLink href="/about">Sobre mí</HeaderLink>
      </div>

      <div class="flex gap-3 social-links mt-4 md:mt-0">
        <!-- Wattpad -->
        <a
          href={WATTPAD_URL}
          target="_blank"
          class="text-foreground hover:text-primary transition-colors"
          title="Wattpad"
        >
          <span class="sr-only">Wattpad</span>
          <p class="italic font-bold text-2xl">W</p>
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  const btn = document.getElementById('menu-btn');
  const menu = document.getElementById('menu');
  if (btn && menu) {
    btn.addEventListener('click', () => {
      menu.classList.toggle('hidden');
    });
  }
</script>
